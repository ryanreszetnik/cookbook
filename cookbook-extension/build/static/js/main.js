!function(e){function t(t){for(var r,i,o=t[0],u=t[1],s=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(l&&l(t);p.length;)p.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={1:0},c=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var c,o=document.createElement("script");o.charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.src=function(e){return i.p+"static/js/"+({}[e]||e)+"."+{3:"cbfa9282"}[e]+".chunk.js"}(e);var u=new Error;c=function(t){o.onerror=o.onload=null,clearTimeout(s);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",u.name="ChunkLoadError",u.type=r,u.request=c,n[1](u)}a[e]=void 0}};var s=setTimeout((function(){c({type:"timeout",target:o})}),12e4);o.onerror=o.onload=c,document.head.appendChild(o)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var o=this["webpackJsonpchrome-react-seo-extension"]=this["webpackJsonpchrome-react-seo-extension"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var l=u;c.push([234,2]),n()}({234:function(e,t,n){e.exports=n(381)},239:function(e,t,n){},241:function(e,t,n){},265:function(e,t){},267:function(e,t){},298:function(e,t){},381:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(50),i=n.n(c),o=(n(239),n(22)),u=n.n(o),s=n(33),l=n(10),d=(n(241),n(201)),p=n.n(d),b=n(198),f=n(3);function j(e){var t=e.recipe,n=Object(r.useState)(!1),a=Object(l.a)(n,2),c=a[0],i=a[1],o=function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("GeneralEndpoint","/",{body:t});case 2:i(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[c&&Object(f.jsx)("div",{children:"SAVED"}),Object(f.jsx)("div",{children:t.name}),Object(f.jsx)("div",{children:t.totalTime}),Object(f.jsx)("button",{onClick:o,children:"Save"}),Object(f.jsxs)("div",{style:{display:"flex"},children:[Object(f.jsx)("img",{height:100,src:t.image}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Ingredients:"}),Object(f.jsx)("ul",{children:t.recipeIngredients.map((function(e,t){return Object(f.jsx)("li",{children:e},t)}))}),Object(f.jsx)("div",{children:"Instructions:"}),Object(f.jsx)("ul",{children:t.recipeInstructions.map((function(e,t){return Object(f.jsx)("li",{children:e},t)}))})]})]})]})}var h=n(89),O=n(58),v="SET_AUTHENTICATED";var x=function(){var e=Object(O.b)(),t=a.a.useState(""),n=Object(l.a)(t,2),c=(n[0],n[1]),i=a.a.useState([]),o=Object(l.a)(i,2),d=(o[0],o[1]),b=a.a.useState(""),x=Object(l.a)(b,2),g=x[0],m=x[1],y=a.a.useState({}),S=Object(l.a)(y,2),w=S[0],k=S[1],C=a.a.useState(!1),T=Object(l.a)(C,2),E=T[0],I=T[1],P=function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:g,console.log("getting recipe"),e.prev=2,e.next=5,p()(t);case 5:n=e.sent,console.log(n),k(n),I(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),I(!1);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){P(g)}),[g]);var N=function(){var t=Object(s.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.signOut();case 2:e({type:v,payload:{authenticated:!1,accessToken:null,idToken:null,refreshToken:null,userData:null}});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.a.useEffect((function(){chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id||0,{type:"GET_DOM"},(function(e){c(e.title),d(e.headlines),g!==e.url&&m(e.url)}))}))})),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("h1",{children:"Recipe Collector"}),Object(f.jsx)("button",{onClick:N,children:"Sign Out"}),!E&&Object(f.jsx)("div",{children:"No Recipe Found"}),E&&Object(f.jsx)(j,{recipe:w})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,452)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},m=n(43),y=n(62),S={Auth:{region:"ca-central-1",userPoolId:"ca-central-1_xe2VB777P",userPoolWebClientId:"48n7g1n733k7a0sa9od9pvr3on"},endpoints:[{name:"GeneralEndpoint",endpoint:"https://yk9vteslyc.execute-api.ca-central-1.amazonaws.com/dev",custom_header:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="Bearer ",e.next=3,h.a.currentSession();case 3:return e.t1=e.sent.getIdToken().getJwtToken(),e.t2=e.t0.concat.call(e.t0,e.t1),e.abrupt("return",{Authorization:e.t2});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]},w=n(451),k=n(448),C=n(449);function T(e){var t=e.fields,n=e.title,r=e.onSubmit,a=e.submitName,c=e.secondaryName,i=void 0===c?null:c,o=e.secondaryLink,u=e.redirect;return Object(f.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(f.jsxs)("div",{style:{margin:"auto",display:"block",width:"400px",borderStyle:"solid",paddingBottom:"45px"},children:[Object(f.jsx)("h1",{style:{textAlign:"center"},children:n}),t.map((function(e){return t=e,Object(f.jsx)("div",{style:{display:"flex",paddingTop:"10px"},children:Object(f.jsx)(w.a,{component:"div",sx:{marginRight:"auto",marginLeft:"auto"},children:Object(f.jsx)(k.a,{variant:"outlined",label:t.label,type:t.type,style:{width:"250px"},value:t.value,onChange:function(e){return t.onChange(e.target.value)}})})});var t})),Object(f.jsxs)(w.a,{sx:{display:"flex",marginLeft:"auto",marginRight:"auto",width:"250px",paddingTop:"10px"},children:[null!=i&&Object(f.jsx)("div",{style:{marginTop:"auto",marginBottom:"auto"},children:Object(f.jsx)(C.a,{onClick:function(){return u(o)},style:{color:"black",textDecoration:"none"},children:i})}),Object(f.jsx)("div",{style:{marginLeft:"auto",marginRight:"0"},children:Object(f.jsx)(C.a,{variant:"contained",onClick:function(){return r()},children:a})})]})]})})}function E(e){var t=e.redirect,n=Object(r.useState)(""),a=Object(l.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(""),d=Object(l.a)(o,2),p=d[0],b=d[1],j=Object(O.b)(),x=function(){var e=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("submit"),e.prev=1,e.next=4,h.a.signIn(c,p);case 4:return e.next=6,h.a.currentSession();case 6:return t=e.sent,e.next=9,h.a.currentUserInfo();case 9:n=e.sent,j({type:v,payload:Object(m.a)(Object(m.a)({authenticated:!0},t),{},{userData:n})}),console.log(t),console.log("success"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(T,{redirect:t,title:"Sign In",onSubmit:x,submitName:"Sign In",secondaryName:"Create Account",secondaryLink:"signup",fields:[{label:"Email",onChange:function(e){return i(e)},value:c,type:"email"},{label:"Password",onChange:function(e){return b(e)},value:p,type:"password"}]})}function I(e){var t=e.redirect,n=e.email,a=Object(r.useState)(""),c=Object(l.a)(a,2),i=c[0],o=c[1],d=function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.confirmSignUp(n,i);case 2:t("signin");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{children:Object(f.jsx)(T,{redirect:t,title:"Confirm Email",onSubmit:d,submitName:"Submit Code",fields:[{label:"Code",onChange:function(e){return o(e)},value:i,type:"text"}]})})}function P(e){var t=e.redirect,n=Object(r.useState)(""),a=Object(l.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(""),d=Object(l.a)(o,2),p=d[0],b=d[1],j=Object(r.useState)(""),O=Object(l.a)(j,2),v=O[0],x=O[1],g=function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.signUp({username:p,password:v,attributes:{name:c}});case 2:t("confirmSignUp",{email:p});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{children:Object(f.jsx)(T,{redirect:t,title:"Sign Up",onSubmit:g,submitName:"Sign Up",secondaryName:"Sign In Instead",secondaryLink:"signin",fields:[{label:"Name",onChange:function(e){return i(e)},value:c,type:"text"},{label:"Email",onChange:function(e){return b(e)},value:p,type:"email"},{label:"Password",onChange:function(e){return x(e)},value:v,type:"password"}]})})}function N(e){var t=Object.assign({},e),n=Object(r.useState)("signin"),a=Object(l.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(!0),d=Object(l.a)(o,2),p=d[0],b=d[1],j=Object(O.c)((function(e){return e.user.authenticated})),x=Object(r.useState)(null),g=Object(l.a)(x,2),y=(g[0],g[1],Object(r.useState)(null)),S=Object(l.a)(y,2),w=S[0],k=S[1],C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.hasOwnProperty("email")&&k(t.email),i(e)},T=Object(O.b)(),N=function(){var e=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.currentUserInfo();case 3:if(null!==(t=e.sent)){e.next=6;break}throw new Error("Not authenticated");case 6:return e.next=8,h.a.currentSession();case 8:n=e.sent,T({type:v,payload:Object(m.a)(Object(m.a)({authenticated:!0},n),{},{userData:t})}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),T({type:v,payload:{authenticated:!1}});case 15:b(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){N()}),[]);return Object(f.jsxs)("div",{children:[p&&Object(f.jsx)("div",{children:"Loading..."}),!p&&!j&&Object(f.jsxs)("div",{children:["signin"===c&&Object(f.jsx)(E,{redirect:C}),"signup"===c&&Object(f.jsx)(P,{redirect:C}),"confirmSignUp"===c&&Object(f.jsx)(I,{redirect:C,email:w})]}),!p&&j&&t.children]})}y.default.configure(S);var L=n(111),_={authenticated:!1,accessToken:null,idToken:null,refreshToken:null,userData:null};var A=Object(L.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(m.a)(Object(m.a)({},e),t.payload);default:return e}}}),D=Object(L.b)(A);i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(O.a,{store:D,children:Object(f.jsx)(N,{children:Object(f.jsx)(x,{})})})}),document.getElementById("root")),g()}});
//# sourceMappingURL=main.js.map